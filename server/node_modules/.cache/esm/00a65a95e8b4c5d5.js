let express,User,sha256;_e8b‍.x([["default",()=>_e8b‍.o]]);_e8b‍.w("express",[["default",["express"],function(v){express=v}]]);_e8b‍.w("../database.models",[["User",["User"],function(v){User=v}]]);_e8b‍.w("sha256",[["default",["sha256"],function(v){sha256=v}]]);





const userController = express.Router();
/**
 * GET/
 * retrieve and display all Users in the User Model
 */
userController.get('/', (req, res) => {
	User.find({}, (err, result) => {	
		res.status(200).json({
			data: result,
		})
	})
});
/**
 * POST/
 * Add a new User to the database
 */
userController.post('/add-user', (req, res) => {
	const { email, password } = req.body;

	const userData = {
		email,
		hashedPassword: sha256(password)
	}
	const newUser = new User(data);
	newUser
		.save()
		.then(data => {
			res.status(200).send(data);
		})
		.catch(err => {
			res.status(400).send("unable to save to database");
		});
});

_e8b‍.d(userController);
