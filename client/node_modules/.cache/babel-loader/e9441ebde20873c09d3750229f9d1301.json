{"ast":null,"code":"var _jsxFileName = \"/home/jcbhghy/the-crop-market/client/src/pages/LoginPage.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport { Redirect, withRouter } from 'react-router-dom';\nimport { login } from '../api/login.api';\nimport Login from '../components/Login.js';\n\nclass LoginPage extends Component {\n  constructor() {\n    super();\n\n    this.onChange = e => {\n      this.setState({\n        [e.target.id]: e.target.value\n      });\n    };\n\n    this.onClick = e => {\n      e.preventDefault();\n      this.props.login({\n        email: this.state.email,\n        password: this.state.password\n      });\n    };\n\n    this.state = {\n      email: '',\n      password: ''\n    };\n    this.onChange = this.onChange.bind(this);\n    this.onClick = this.onClick.bind(this);\n  }\n\n  render() {\n    const {\n      email,\n      password\n    } = { ...this.state\n    };\n    const {\n      user\n    } = this.props || {};\n    const {\n      token\n    } = user;\n    return token ? /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/\",\n      user: user,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 7\n      }\n    }) : /*#__PURE__*/React.createElement(Login, {\n      onChange: e => this.onChange(e),\n      onClick: e => this.onClick(e),\n      email: email,\n      password: password,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 7\n      }\n    });\n  }\n\n}\n\nfunction mapStateToProps(state) {\n  return {\n    user: state.user\n  };\n}\n\nfunction matchDispatchToProps(dispatch) {\n  return bindActionCreators({\n    login\n  }, dispatch);\n}\n\nexport default connect(mapStateToProps, matchDispatchToProps)(withRouter(LoginPage));","map":{"version":3,"sources":["/home/jcbhghy/the-crop-market/client/src/pages/LoginPage.js"],"names":["React","Component","connect","bindActionCreators","Redirect","withRouter","login","Login","LoginPage","constructor","onChange","e","setState","target","id","value","onClick","preventDefault","props","email","state","password","bind","render","user","token","mapStateToProps","matchDispatchToProps","dispatch"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,kBAAT,QAAmC,OAAnC;AACA,SAASC,QAAT,EAAmBC,UAAnB,QAAqC,kBAArC;AAEA,SAASC,KAAT,QAAsB,kBAAtB;AACA,OAAOC,KAAP,MAAkB,wBAAlB;;AAEA,MAAMC,SAAN,SAAwBP,SAAxB,CAAkC;AAChCQ,EAAAA,WAAW,GAAG;AACZ;;AADY,SAUdC,QAVc,GAUHC,CAAC,IAAI;AACd,WAAKC,QAAL,CAAc;AAAE,SAACD,CAAC,CAACE,MAAF,CAASC,EAAV,GAAeH,CAAC,CAACE,MAAF,CAASE;AAA1B,OAAd;AACD,KAZa;;AAAA,SAcdC,OAdc,GAcJL,CAAC,IAAI;AACbA,MAAAA,CAAC,CAACM,cAAF;AACA,WAAKC,KAAL,CAAWZ,KAAX,CAAiB;AACfa,QAAAA,KAAK,EAAE,KAAKC,KAAL,CAAWD,KADH;AAEfE,QAAAA,QAAQ,EAAE,KAAKD,KAAL,CAAWC;AAFN,OAAjB;AAID,KApBa;;AAEZ,SAAKD,KAAL,GAAa;AACXD,MAAAA,KAAK,EAAE,EADI;AAEXE,MAAAA,QAAQ,EAAE;AAFC,KAAb;AAIA,SAAKX,QAAL,GAAgB,KAAKA,QAAL,CAAcY,IAAd,CAAmB,IAAnB,CAAhB;AACA,SAAKN,OAAL,GAAe,KAAKA,OAAL,CAAaM,IAAb,CAAkB,IAAlB,CAAf;AACD;;AAcDC,EAAAA,MAAM,GAAG;AACP,UAAM;AAAEJ,MAAAA,KAAF;AAASE,MAAAA;AAAT,QAAsB,EAAE,GAAG,KAAKD;AAAV,KAA5B;AACA,UAAM;AAAEI,MAAAA;AAAF,QAAW,KAAKN,KAAL,IAAc,EAA/B;AACA,UAAM;AAAEO,MAAAA;AAAF,QAAYD,IAAlB;AAEA,WAAOC,KAAK,gBACV,oBAAC,QAAD;AAAU,MAAA,EAAE,EAAC,GAAb;AAAiB,MAAA,IAAI,EAAED,IAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADU,gBAGV,oBAAC,KAAD;AACE,MAAA,QAAQ,EAAEb,CAAC,IAAI,KAAKD,QAAL,CAAcC,CAAd,CADjB;AAEE,MAAA,OAAO,EAAEA,CAAC,IAAI,KAAKK,OAAL,CAAaL,CAAb,CAFhB;AAGE,MAAA,KAAK,EAAEQ,KAHT;AAIE,MAAA,QAAQ,EAAEE,QAJZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHF;AAUD;;AAtC+B;;AAyClC,SAASK,eAAT,CAAyBN,KAAzB,EAAgC;AAC9B,SAAO;AACLI,IAAAA,IAAI,EAAEJ,KAAK,CAACI;AADP,GAAP;AAGD;;AAED,SAASG,oBAAT,CAA8BC,QAA9B,EAAwC;AACtC,SAAOzB,kBAAkB,CAAC;AAAEG,IAAAA;AAAF,GAAD,EAAYsB,QAAZ,CAAzB;AACD;;AAED,eAAe1B,OAAO,CACpBwB,eADoB,EAEpBC,oBAFoB,CAAP,CAGbtB,UAAU,CAACG,SAAD,CAHG,CAAf","sourcesContent":["import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\nimport { Redirect, withRouter } from 'react-router-dom';\r\n\r\nimport { login } from '../api/login.api';\r\nimport Login from '../components/Login.js';\r\n\r\nclass LoginPage extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      email: '',\r\n      password: '',\r\n    };\r\n    this.onChange = this.onChange.bind(this);\r\n    this.onClick = this.onClick.bind(this);\r\n  }\r\n  \r\n  onChange = e => {\r\n    this.setState({ [e.target.id]: e.target.value });\r\n  };\r\n  \r\n  onClick = e => {\r\n    e.preventDefault();\r\n    this.props.login({\r\n      email: this.state.email,\r\n      password: this.state.password,\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { email, password } = { ...this.state };\r\n    const { user } = this.props || {};\r\n    const { token } = user;\r\n\r\n    return token ? (\r\n      <Redirect to=\"/\" user={user} />\r\n    ) : (\r\n      <Login\r\n        onChange={e => this.onChange(e)}\r\n        onClick={e => this.onClick(e)}\r\n        email={email}\r\n        password={password}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    user: state.user,\r\n  };\r\n}\r\n\r\nfunction matchDispatchToProps(dispatch) {\r\n  return bindActionCreators({ login }, dispatch);\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  matchDispatchToProps\r\n)(withRouter(LoginPage));"]},"metadata":{},"sourceType":"module"}